(function(_0x21050d,_0xaafd50){const _0x9068e8=a0_0x5579,_0x5542f8=_0x21050d();while(!![]){try{const _0x5d4031=parseInt(_0x9068e8(0x119))/0x1+parseInt(_0x9068e8(0x12a))/0x2*(parseInt(_0x9068e8(0x14c))/0x3)+-parseInt(_0x9068e8(0x117))/0x4+parseInt(_0x9068e8(0xff))/0x5*(parseInt(_0x9068e8(0x140))/0x6)+-parseInt(_0x9068e8(0x13d))/0x7*(parseInt(_0x9068e8(0x15b))/0x8)+-parseInt(_0x9068e8(0x109))/0x9*(parseInt(_0x9068e8(0x126))/0xa)+parseInt(_0x9068e8(0x15f))/0xb;if(_0x5d4031===_0xaafd50)break;else _0x5542f8['push'](_0x5542f8['shift']());}catch(_0x57a79e){_0x5542f8['push'](_0x5542f8['shift']());}}}(a0_0x3dcd,0x1cd4e));const a0_0x547715=(function(){let _0x3f1db7=!![];return function(_0x520209,_0x37bb34){const _0x5644dc=_0x3f1db7?function(){if(_0x37bb34){const _0x293c18=_0x37bb34['apply'](_0x520209,arguments);return _0x37bb34=null,_0x293c18;}}:function(){};return _0x3f1db7=![],_0x5644dc;};}());(function(){a0_0x547715(this,function(){const _0x56e517=a0_0x5579,_0x33cb68=new RegExp(_0x56e517(0x159)),_0x3eaac6=new RegExp(_0x56e517(0x143),'i'),_0x4f18b6=a0_0x26bcec('init');!_0x33cb68[_0x56e517(0x15e)](_0x4f18b6+_0x56e517(0x144))||!_0x3eaac6[_0x56e517(0x15e)](_0x4f18b6+_0x56e517(0x114))?_0x4f18b6('0'):a0_0x26bcec();})();}());import{gotScraping}from'got-scraping';import{CookieJar}from'tough-cookie';import{retryOperation,getAccount,saveAccount}from'../utils/helper.js';import a0_0x32fe68 from'user-agents';import a0_0x458dc4 from'../../config.js';const BASE_URL='https://quest.quip.network',userAgentCache=new Map();function getUserAgent(_0x31318e){const _0x4e260a=a0_0x5579;if(!_0x31318e)return new a0_0x32fe68()[_0x4e260a(0x10f)]();const _0x152342=_0x31318e['toLowerCase']();if(userAgentCache[_0x4e260a(0x103)](_0x152342))return userAgentCache[_0x4e260a(0x10d)](_0x152342);const _0x3900e3=getAccount(_0x152342);if(_0x3900e3?.[_0x4e260a(0x156)])return userAgentCache['set'](_0x152342,_0x3900e3[_0x4e260a(0x156)]),_0x3900e3[_0x4e260a(0x156)];const _0x26d586=new a0_0x32fe68()['toString']();return userAgentCache[_0x4e260a(0x132)](_0x152342,_0x26d586),saveAccount({'wallet':_0x152342,'userAgent':_0x26d586,'userAgentCachedAt':new Date()[_0x4e260a(0x101)]()}),_0x26d586;}function a0_0x5579(_0x2cc3cd,_0x49263e){_0x2cc3cd=_0x2cc3cd-0xfd;const _0xd834c=a0_0x3dcd();let _0x26bcec=_0xd834c[_0x2cc3cd];return _0x26bcec;}function buildClientHints(_0x199e1b){const _0x4b4bf8=a0_0x5579,_0x1ef1b2={};if(/Windows/i[_0x4b4bf8(0x15e)](_0x199e1b))_0x1ef1b2[_0x4b4bf8(0x124)]=_0x4b4bf8(0x133);else{if(/Macintosh|Mac OS X/i[_0x4b4bf8(0x15e)](_0x199e1b))_0x1ef1b2[_0x4b4bf8(0x124)]=_0x4b4bf8(0x138);else{if(/Android/i['test'](_0x199e1b))_0x1ef1b2['sec-ch-ua-platform']=_0x4b4bf8(0x127);else{if(/iPhone|iPad|iPod/i[_0x4b4bf8(0x15e)](_0x199e1b))_0x1ef1b2[_0x4b4bf8(0x124)]=_0x4b4bf8(0x148);else{if(/CrOS/i['test'](_0x199e1b))_0x1ef1b2[_0x4b4bf8(0x124)]='\x22Chrome\x20OS\x22';else{if(/Linux/i['test'](_0x199e1b))_0x1ef1b2[_0x4b4bf8(0x124)]=_0x4b4bf8(0x12c);else _0x1ef1b2[_0x4b4bf8(0x124)]=_0x4b4bf8(0x130);}}}}}_0x1ef1b2[_0x4b4bf8(0x125)]=/Mobile|Android|iPhone|iPad|iPod/i[_0x4b4bf8(0x15e)](_0x199e1b)?'?1':'?0';const _0x1c01af=_0x199e1b[_0x4b4bf8(0x135)](/Chrome\/(\d+)/);if(_0x1c01af){const _0x4f09e2=_0x1c01af[0x1],_0xdccfe6=_0x199e1b['match'](/Edg\/(\d+)/),_0xc87378=_0x199e1b['match'](/OPR\/(\d+)/);if(_0xdccfe6)_0x1ef1b2[_0x4b4bf8(0x129)]=_0x4b4bf8(0x110)+_0x4f09e2+_0x4b4bf8(0x100)+_0xdccfe6[0x1]+'\x22';else _0xc87378?_0x1ef1b2[_0x4b4bf8(0x129)]=_0x4b4bf8(0x110)+_0x4f09e2+_0x4b4bf8(0x13c)+_0xc87378[0x1]+'\x22':_0x1ef1b2[_0x4b4bf8(0x129)]='\x22Not(A:Brand\x22;v=\x228\x22,\x20\x22Chromium\x22;v=\x22'+_0x4f09e2+_0x4b4bf8(0x107)+_0x4f09e2+'\x22';}return _0x1ef1b2;}export function createApiClient(_0xccfdb8=null,_0x1ce3c3=null,_0x2b48c9=null){const _0x2b66f7=a0_0x5579,_0x2f4993={'info':()=>{},'success':()=>{},'warn':()=>{},'error':()=>{},'debug':()=>{}},_0x47a4d3=_0x2b48c9||_0x2f4993,_0x5756eb=a0_0x458dc4?.[_0x2b66f7(0x163)]===!![],_0x5bfb40=new CookieJar(),_0x1e8935=getUserAgent(_0x1ce3c3),_0x1921d0=buildClientHints(_0x1e8935),_0x359ae7={'accept':_0x2b66f7(0x122),'accept-language':_0x2b66f7(0x165),'cache-control':_0x2b66f7(0x14e),'dnt':'1','pragma':_0x2b66f7(0x14e),'priority':_0x2b66f7(0x158),'referer':BASE_URL+_0x2b66f7(0x12f),..._0x1921d0,'sec-fetch-dest':_0x2b66f7(0x13a),'sec-fetch-mode':'cors','sec-fetch-site':_0x2b66f7(0x139),'sec-gpc':'1','user-agent':_0x1e8935};async function _0x3d04d6(_0x5d27d7){const _0x4fa56f=_0x2b66f7,_0x1b1926=await _0x5bfb40[_0x4fa56f(0x116)](_0x5d27d7);return _0x1b1926[_0x4fa56f(0x10c)](_0x56dc96=>_0x56dc96['cookieString']())[_0x4fa56f(0x134)](';\x20');}async function _0x2cd5e8(_0x343298,_0x2f43de){const _0x20dfef=_0x2b66f7,_0x437f55=_0x2f43de[_0x20dfef(0x11d)]['set-cookie'];if(_0x437f55){const _0x5bf0be=Array['isArray'](_0x437f55)?_0x437f55:[_0x437f55];for(const _0x60b6a2 of _0x5bf0be){try{await _0x5bfb40[_0x20dfef(0x164)](_0x60b6a2,_0x343298);}catch(_0x4e6ab8){}}}}async function _0x42a644(_0x2383fd,_0x118304={}){const _0x29b7fa=_0x2b66f7,_0x28aa21=await _0x3d04d6(_0x2383fd);_0x28aa21&&(_0x118304[_0x29b7fa(0x11d)]={..._0x118304[_0x29b7fa(0x11d)],'cookie':_0x28aa21});if(_0xccfdb8)_0x118304[_0x29b7fa(0x14f)]=_0xccfdb8;if(_0x5756eb){const _0x335cfd=(_0x118304[_0x29b7fa(0x10b)]||'GET')['toUpperCase']();_0x47a4d3[_0x29b7fa(0x149)](_0x29b7fa(0x14d)+_0x335cfd+'\x20'+_0x2383fd),_0x47a4d3['debug'](_0x29b7fa(0x128)+JSON['stringify'](_0x118304[_0x29b7fa(0x11d)]||{})),_0x118304['body']&&_0x47a4d3['debug'](_0x29b7fa(0x13e)+(typeof _0x118304[_0x29b7fa(0x120)]===_0x29b7fa(0x141)?_0x118304[_0x29b7fa(0x120)]:JSON['stringify'](_0x118304[_0x29b7fa(0x120)]))),_0x28aa21&&_0x47a4d3[_0x29b7fa(0x149)]('[REQ]\x20Cookies:\x20'+_0x28aa21);}let _0x26cfec;try{_0x26cfec=await gotScraping(_0x2383fd,_0x118304);}catch(_0x4af9d5){_0x5756eb&&(_0x47a4d3['debug'](_0x29b7fa(0x106)+_0x2383fd+_0x29b7fa(0xfd)+_0x4af9d5[_0x29b7fa(0x137)]),_0x4af9d5['response']&&(_0x47a4d3[_0x29b7fa(0x149)](_0x29b7fa(0x150)+_0x4af9d5['response'][_0x29b7fa(0x11f)]),_0x47a4d3[_0x29b7fa(0x149)]('[RES]\x20Headers:\x20'+JSON[_0x29b7fa(0x11c)](_0x4af9d5['response']['headers']||{})),_0x47a4d3[_0x29b7fa(0x149)](_0x29b7fa(0x11e)+(typeof _0x4af9d5[_0x29b7fa(0x104)][_0x29b7fa(0x120)]===_0x29b7fa(0x146)?JSON['stringify'](_0x4af9d5['response'][_0x29b7fa(0x120)]):String(_0x4af9d5[_0x29b7fa(0x104)][_0x29b7fa(0x120)]||'')[_0x29b7fa(0x166)](0x0,0x7d0)))));throw _0x4af9d5;}if(_0x5756eb){const _0x240a81=(_0x118304[_0x29b7fa(0x10b)]||'GET')['toUpperCase']();_0x47a4d3[_0x29b7fa(0x149)](_0x29b7fa(0x147)+_0x240a81+'\x20'+_0x2383fd+_0x29b7fa(0xfd)+_0x26cfec[_0x29b7fa(0x11f)]),_0x47a4d3['debug'](_0x29b7fa(0x167)+JSON['stringify'](_0x26cfec[_0x29b7fa(0x11d)]||{}));const _0x3a7ab7=_0x26cfec[_0x29b7fa(0x120)],_0x22dd90=typeof _0x3a7ab7===_0x29b7fa(0x146)?JSON['stringify'](_0x3a7ab7):String(_0x3a7ab7||''),_0x4fe85b=_0x22dd90[_0x29b7fa(0x157)]('<!')||_0x22dd90[_0x29b7fa(0x157)](_0x29b7fa(0x142));_0x47a4d3[_0x29b7fa(0x149)](_0x29b7fa(0x11e)+(_0x4fe85b?_0x22dd90[_0x29b7fa(0x166)](0x0,0x1f4)+_0x29b7fa(0x154):_0x22dd90[_0x29b7fa(0x166)](0x0,0x1388)));}return await _0x2cd5e8(_0x2383fd,_0x26cfec),_0x26cfec;}async function _0x584941(_0x34afd4=![],_0x310d64='VU9Q3IBM'){const _0xed7ff1=_0x2b66f7,_0x5d87ec=_0x34afd4?BASE_URL+_0xed7ff1(0x11b)+_0x310d64:BASE_URL+_0xed7ff1(0x12f),_0x142bce=await _0x42a644(_0x5d87ec,{'headers':{'accept':_0xed7ff1(0x12e),'accept-language':_0xed7ff1(0x165),'cache-control':'no-cache','pragma':_0xed7ff1(0x14e),'priority':'u=0,\x20i',..._0x1921d0,'sec-fetch-dest':_0xed7ff1(0x10e),'sec-fetch-mode':_0xed7ff1(0x153),'sec-fetch-site':_0xed7ff1(0x145),'sec-fetch-user':'?1','sec-gpc':'1','upgrade-insecure-requests':'1','user-agent':_0x1e8935},'timeout':{'request':0x7530},'followRedirect':!![]});if(_0x34afd4)try{await _0x5bfb40[_0xed7ff1(0x164)](_0xed7ff1(0x15a)+_0x310d64,BASE_URL);}catch{}return _0x142bce[_0xed7ff1(0x11f)]===0xc8;}async function _0x1ef299(){const _0xf52d39=_0x2b66f7,_0x4af9dd=await _0x42a644(BASE_URL+_0xf52d39(0x108),{'headers':{..._0x359ae7,'content-type':_0xf52d39(0x162)},'timeout':{'request':0x7530},'responseType':_0xf52d39(0x168)});return _0x4af9dd[_0xf52d39(0x120)][_0xf52d39(0x151)];}async function _0x2e24ec(_0x1eed16,_0x4ae27a,_0x5d9055,_0x562ef6){const _0xdce5d8=_0x2b66f7,_0x543876=new URLSearchParams({'message':JSON[_0xdce5d8(0x11c)](_0x1eed16),'accessToken':_0x4ae27a,'signature':_0x4ae27a,'walletConnectorName':_0xdce5d8(0x118),'walletAddress':_0x5d9055,'redirect':_0xdce5d8(0x131),'callbackUrl':_0xdce5d8(0x160),'chainType':_0xdce5d8(0x105),'walletProvider':'undefined','csrfToken':_0x562ef6,'json':'true'})[_0xdce5d8(0x10f)](),_0x5f5a03=await _0x42a644(BASE_URL+'/api/auth/callback/credentials',{'method':'POST','headers':{..._0x359ae7,'content-type':_0xdce5d8(0x10a),'origin':BASE_URL},'body':_0x543876,'timeout':{'request':0x7530},'followRedirect':![]}),_0x5731ba=await _0x5bfb40[_0xdce5d8(0x116)](BASE_URL),_0x3868c8=_0x5731ba['find'](_0x5ce74c=>_0x5ce74c['key']===_0xdce5d8(0x13b));return{'success':!!_0x3868c8,'sessionToken':_0x3868c8?.[_0xdce5d8(0x152)]||null};}async function _0x155a35(_0x51d3b6){return await retryOperation(async()=>{const _0x25b8f5=a0_0x5579,_0x2b22a0=await _0x42a644(BASE_URL+'/api/loyalty/rules/'+_0x51d3b6+_0x25b8f5(0xfe),{'method':_0x25b8f5(0x123),'headers':{..._0x359ae7,'content-type':_0x25b8f5(0x162),'origin':BASE_URL},'body':JSON[_0x25b8f5(0x11c)]({}),'timeout':{'request':0x7530},'responseType':'json'});return _0x2b22a0[_0x25b8f5(0x120)];},'POST\x20/complete');}async function _0x38efe5(_0x1a30c0,_0x2bd9c9,_0x4e0cb6){const _0x446339=_0x2b66f7;return await retryOperation(async()=>{const _0x535320=a0_0x5579,_0x43a221=BASE_URL+_0x535320(0x13f)+_0x1a30c0+_0x535320(0x161)+_0x2bd9c9+_0x535320(0x15c)+_0x4e0cb6,_0x3d995a=await _0x42a644(_0x43a221,{'headers':_0x359ae7,'timeout':{'request':0x7530},'responseType':_0x535320(0x168)});return _0x3d995a[_0x535320(0x120)];},_0x446339(0x12b));}async function _0x3fc190(_0x12c3f6,_0x40bdf1,_0x50e244){return await retryOperation(async()=>{const _0x584518=a0_0x5579,_0x2af121=BASE_URL+_0x584518(0x121)+_0x12c3f6+'&organizationId='+_0x40bdf1+'&walletAddress='+_0x50e244,_0xf5211=await _0x42a644(_0x2af121,{'headers':_0x359ae7,'timeout':{'request':0x7530},'responseType':_0x584518(0x168)});return _0xf5211[_0x584518(0x120)];},'GET\x20/users/metadatas');}async function _0x923fa3(_0x2efc7c,_0x3cab88,_0x5edce5){const _0x3264c5=_0x2b66f7;return await retryOperation(async()=>{const _0x24db0a=a0_0x5579,_0xddbfd2=BASE_URL+'/api/loyalty/accounts?limit=100&websiteId='+_0x2efc7c+'&organizationId='+_0x3cab88+_0x24db0a(0x169)+_0x5edce5,_0x212a66=await _0x42a644(_0xddbfd2,{'headers':_0x359ae7,'timeout':{'request':0x7530},'responseType':_0x24db0a(0x168)});return _0x212a66[_0x24db0a(0x120)];},_0x3264c5(0x11a));}async function _0x540599(_0x3822a1,_0xa8c60,_0x4852fe){const _0x258ca6=_0x2b66f7;return await retryOperation(async()=>{const _0x61146a=a0_0x5579,_0x497be5=BASE_URL+'/api/loyalty/multipliers?limit=1000&websiteId='+_0x3822a1+_0x61146a(0x161)+_0xa8c60+_0x61146a(0x169)+_0x4852fe,_0x3741b5=await _0x42a644(_0x497be5,{'headers':_0x359ae7,'timeout':{'request':0x7530},'responseType':'json'});return _0x3741b5[_0x61146a(0x120)];},_0x258ca6(0x112));}return{'cookieJar':_0x5bfb40,'visitAirdropPage':_0x584941,'getCsrfToken':_0x1ef299,'login':_0x2e24ec,'completeDailyCheckin':_0x155a35,'getRulesStatus':_0x38efe5,'getUserMetadata':_0x3fc190,'getLoyaltyAccounts':_0x923fa3,'getMultipliers':_0x540599};}function a0_0x3dcd(){const _0x4c5671=['text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8','/airdrop','\x22Unknown\x22','false','set','\x22Windows\x22','join','match','call','message','\x22macOS\x22','same-origin','empty','__Secure-next-auth.session-token','\x22,\x20\x22Opera\x22;v=\x22','91AsGVfj','[REQ]\x20Body:\x20','/api/loyalty/rules/status?websiteId=','6126AOFKlD','string','<html','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','chain','none','object','[RES]\x20','\x22iOS\x22','debug','constructor','debu','209799FIAjgU','[REQ]\x20','no-cache','proxyUrl','[RES]\x20Status:\x20','csrfToken','value','navigate','...[HTML\x20truncated]','stateObject','userAgent','startsWith','u=1,\x20i','function\x20*\x5c(\x20*\x5c)','referral_code=','84104gMNXGh','&userId=','length','test','1904375MSsfnE','/protected','&organizationId=','application/json','DEBUG','setCookie','en-US,en;q=0.6','substring','[RES]\x20Headers:\x20','json','&walletAddress=','\x20->\x20','/complete','685WjxaEL','\x22,\x20\x22Microsoft\x20Edge\x22;v=\x22','toISOString','action','has','response','evm','[RES]\x20ERROR\x20','\x22,\x20\x22Google\x20Chrome\x22;v=\x22','/api/auth/csrf','250101UqgBAa','application/x-www-form-urlencoded','method','map','get','document','toString','\x22Not(A:Brand\x22;v=\x228\x22,\x20\x22Chromium\x22;v=\x22','apply','GET\x20/loyalty/multipliers','while\x20(true)\x20{}','input','counter','getCookies','525108HMEQmN','OKX\x20Wallet','86472KPAtCh','GET\x20/loyalty/accounts','/airdrop?referral_code=','stringify','headers','[RES]\x20Body:\x20','statusCode','body','/api/users/metadatas?limit=10&websiteId=','*/*','POST','sec-ch-ua-platform','sec-ch-ua-mobile','30EfhhuW','\x22Android\x22','[REQ]\x20Headers:\x20','sec-ch-ua','2SpfTGX','GET\x20/rules/status','\x22Linux\x22','gger'];a0_0x3dcd=function(){return _0x4c5671;};return a0_0x3dcd();}function a0_0x26bcec(_0x5a5de2){function _0x2c71f3(_0x5e5aa0){const _0x4e271e=a0_0x5579;if(typeof _0x5e5aa0===_0x4e271e(0x141))return function(_0x127699){}[_0x4e271e(0x14a)](_0x4e271e(0x113))[_0x4e271e(0x111)](_0x4e271e(0x115));else(''+_0x5e5aa0/_0x5e5aa0)[_0x4e271e(0x15d)]!==0x1||_0x5e5aa0%0x14===0x0?function(){return!![];}[_0x4e271e(0x14a)]('debu'+_0x4e271e(0x12d))[_0x4e271e(0x136)](_0x4e271e(0x102)):function(){return![];}['constructor'](_0x4e271e(0x14b)+_0x4e271e(0x12d))[_0x4e271e(0x111)](_0x4e271e(0x155));_0x2c71f3(++_0x5e5aa0);}try{if(_0x5a5de2)return _0x2c71f3;else _0x2c71f3(0x0);}catch(_0x529390){}}