const a0_0x4177c6=a0_0x5a37;(function(_0x3c4186,_0x3c5f90){const _0x22013e=a0_0x5a37,_0x43d826=_0x3c4186();while(!![]){try{const _0x11bfb2=-parseInt(_0x22013e(0xb9))/0x1+parseInt(_0x22013e(0xaf))/0x2+parseInt(_0x22013e(0x11b))/0x3*(-parseInt(_0x22013e(0xc6))/0x4)+parseInt(_0x22013e(0xc3))/0x5+-parseInt(_0x22013e(0xce))/0x6*(-parseInt(_0x22013e(0x11a))/0x7)+parseInt(_0x22013e(0xb3))/0x8+-parseInt(_0x22013e(0xb0))/0x9;if(_0x11bfb2===_0x3c5f90)break;else _0x43d826['push'](_0x43d826['shift']());}catch(_0x7fc298){_0x43d826['push'](_0x43d826['shift']());}}}(a0_0x3970,0xf171c));const a0_0x2db496=(function(){let _0x2105d0=!![];return function(_0x7d9faa,_0x257ec4){const _0x4caa49=_0x2105d0?function(){const _0x1caf3b=a0_0x5a37;if(_0x257ec4){const _0x2c059b=_0x257ec4[_0x1caf3b(0xb6)](_0x7d9faa,arguments);return _0x257ec4=null,_0x2c059b;}}:function(){};return _0x2105d0=![],_0x4caa49;};}());(function(){a0_0x2db496(this,function(){const _0x1bd4f3=a0_0x5a37,_0x397303=new RegExp(_0x1bd4f3(0xc9)),_0x327a5b=new RegExp('\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','i'),_0x2d45a2=a0_0x37a355(_0x1bd4f3(0xed));!_0x397303['test'](_0x2d45a2+_0x1bd4f3(0xf4))||!_0x327a5b['test'](_0x2d45a2+'input')?_0x2d45a2('0'):a0_0x37a355();})();}());import'dotenv/config';import{ethers}from'ethers';function a0_0x5a37(_0x1d27dc,_0x4601c0){_0x1d27dc=_0x1d27dc-0xae;const _0x12136c=a0_0x3970();let _0x37a355=_0x12136c[_0x1d27dc];return _0x37a355;}import a0_0x3245f8 from'fs';import a0_0x26690e from'path';function a0_0x3970(){const _0x1d0743=['markBlocked','Failed','points','Starting','LOOP_TIME','includes','error','24:00:00','forEach',')...','counter','action','join','success','Acquired\x20proxy','existsSync','call','info','Wallet','Getting\x20points...','env','updateAccount','trim','...','init','Retry\x20','Direct','Checking\x20','\x20-\x20','dirname','alreadyDone','chain','Proxy\x20permanently\x20blocked\x20after\x2010\x20failures','match','Finished\x20','readFileSync','Proxy\x20OK:\x20','warn','setTotalProxies','No\x20proxies\x20loaded,\x20running\x20without\x20proxies','map','Loaded\x20','floor','length','push','\x20accounts','noProxyMode','pk.txt','Already\x20checked\x20in\x20today','\x20proxies...','Logging\x20in','Waiting\x20for\x20proxy...','startsWith','from','Starting\x20','Fetching','pop','Loop\x20mode\x20enabled.\x20Waiting\x20','setLoopState','debu','Queued','\x20accounts\x20successful','split','getConcurrency','setProxyStatus','Daily\x20check-in...','release','stateObject','address','21YleDxc','9FEqucv','set','1390468MoUkgN','20505987fGzoPc','utf8','Active','9879456Whngwd','size','gger','apply','message','No\x20private\x20keys\x20found.\x20Please\x20check\x20PK_N\x20env\x20vars\x20or\x20pk.txt','264054sSVJcv','filter','userId','all','Max\x20retries\x20exceeded','Proxy\x20','ENABLE_LOOP','Failed:\x20','slice','Found\x20','8100995rDwDoC','markSuccess','\x20accounts\x20with\x20','1616996dzYJqv','Completed:\x20','Waiting','function\x20*\x5c(\x20*\x5c)','Checking\x20in','constructor','\x20before\x20next\x20run...','Retrying','2387670zSelxR','while\x20(true)\x20{}','Complete','unknown','entries','All\x20done!','Network\x20error,\x20retrying\x20with\x20new\x20proxy\x20('];a0_0x3970=function(){return _0x1d0743;};return a0_0x3970();}import{fileURLToPath}from'url';import{login}from'./services/auth.js';import{dailyCheckin,fetchPoints,fetchMultipliers}from'./services/tasks.js';import{AccountManager,Dashboard,createLogger,createAccountLogger}from'./ui.js';import{sleep,getAccount,isRegistered,ProxyPool,saveAccount,isNetworkError,normalizeProxy,checkProxy}from'./utils/helper.js';import a0_0x116818 from'../config.js';const ENABLE_LOOP=a0_0x116818?.[a0_0x4177c6(0xbf)]??![],LOOP_TIME=a0_0x116818?.[a0_0x4177c6(0xd9)]||a0_0x4177c6(0xdc),__filename=fileURLToPath(import.meta.url),__dirname=a0_0x26690e[a0_0x4177c6(0xf2)](__filename);function loadPrivateKeys(){const _0x544706=a0_0x4177c6,_0x5de3f4=new Map();for(const [_0x2093e5,_0x482c51]of Object[_0x544706(0xd2)](process[_0x544706(0xe9)])){if(_0x2093e5[_0x544706(0x109)]('PK_')&&_0x482c51?.[_0x544706(0xeb)]()){const _0x184b45=_0x2093e5[_0x544706(0xf6)](/^PK_(\d+)$/);if(_0x184b45)_0x5de3f4['set'](parseInt(_0x184b45[0x1]),_0x482c51[_0x544706(0xeb)]());}}if(_0x5de3f4[_0x544706(0xb4)]===0x0){const _0x21503f=a0_0x26690e['join'](__dirname,'..',_0x544706(0x104));if(a0_0x3245f8['existsSync'](_0x21503f)){const _0x177b3c=a0_0x3245f8['readFileSync'](_0x21503f,_0x544706(0xb1));let _0x5156bc=0x1;_0x177b3c[_0x544706(0x113)]('\x0a')[_0x544706(0xdd)](_0x219e5c=>{const _0x38ef3f=_0x544706,_0x2771f9=_0x219e5c[_0x38ef3f(0xeb)]();if(_0x2771f9&&!_0x2771f9['startsWith']('#'))_0x5de3f4[_0x38ef3f(0xae)](_0x5156bc++,_0x2771f9);});}}return _0x5de3f4;}function loadProxies(){const _0x4ae395=a0_0x4177c6,_0x22a735=a0_0x26690e[_0x4ae395(0xe1)](__dirname,'..','proxies.txt');if(!a0_0x3245f8[_0x4ae395(0xe4)](_0x22a735))return[];const _0x200e4f=a0_0x3245f8[_0x4ae395(0xf8)](_0x22a735,_0x4ae395(0xb1));return _0x200e4f['split']('\x0a')['map'](_0x5d88cd=>_0x5d88cd['trim']())[_0x4ae395(0xba)](_0x25779f=>_0x25779f&&!_0x25779f['startsWith']('#'));}export async function run(){const _0xe8a853=a0_0x4177c6,_0x2132f8=new AccountManager(),_0x3e9a28=new Dashboard(_0x2132f8),_0x3f4b58=createLogger(_0x3e9a28),_0x8b875d=loadPrivateKeys(),_0x39f3b9=loadProxies(),_0x5bf01a=Array[_0xe8a853(0x10a)](_0x8b875d[_0xe8a853(0xd2)]())[_0xe8a853(0xfd)](([_0x599250,_0x2f72fd])=>({'index':_0x599250,'privateKey':_0x2f72fd}));if(_0x5bf01a[_0xe8a853(0x100)]===0x0){_0x3f4b58[_0xe8a853(0xdb)](_0xe8a853(0xb8));return;}_0x3f4b58[_0xe8a853(0xe6)](_0xe8a853(0xfe)+_0x5bf01a[_0xe8a853(0x100)]+_0xe8a853(0x102)),_0x3e9a28['setTotalAccounts'](_0x5bf01a[_0xe8a853(0x100)]),_0x3e9a28[_0xe8a853(0xfb)](0x0);const _0x4b357b=[];if(_0x39f3b9[_0xe8a853(0x100)]>0x0){_0x3f4b58['info'](_0xe8a853(0xf0)+_0x39f3b9[_0xe8a853(0x100)]+_0xe8a853(0x106));const _0x52985c=await Promise[_0xe8a853(0xbc)](_0x39f3b9['map'](async(_0x48d4e7,_0x274c23)=>{const _0x5bf764=_0xe8a853,_0x1619c7=normalizeProxy(_0x48d4e7),_0x15f3cb=await checkProxy(_0x1619c7),_0x5f1227=_0x846a93=>{const _0x484334=a0_0x5a37;try{let _0x5931b1=_0x846a93['replace'](/^(https?|socks[45]?):\/\//,'');if(_0x5931b1[_0x484334(0xda)]('@'))_0x5931b1=_0x5931b1[_0x484334(0x113)]('@')[_0x484334(0x10d)]();return _0x5931b1['split'](':')[0x0];}catch{return _0x484334(0xbe)+(_0x274c23+0x1);}},_0x453fe7=_0x5f1227(_0x1619c7);return _0x15f3cb?(_0x3f4b58[_0x5bf764(0xe2)](_0x5bf764(0xf9)+_0x453fe7),_0x1619c7):(_0x3f4b58[_0x5bf764(0xfa)]('Proxy\x20FAIL:\x20'+_0x453fe7),null);}));_0x4b357b[_0xe8a853(0x101)](..._0x52985c[_0xe8a853(0xba)](_0x13b4bb=>_0x13b4bb!==null)),_0x3f4b58[_0xe8a853(0xe6)](_0xe8a853(0xc2)+_0x4b357b['length']+'/'+_0x39f3b9['length']+'\x20valid\x20proxies');}else _0x3f4b58[_0xe8a853(0xfa)](_0xe8a853(0xfc));const _0x2cca23=new ProxyPool(_0x4b357b);_0x3e9a28['setTotalProxies'](_0x4b357b[_0xe8a853(0x100)]);const _0x3d39d3=async _0x4528ae=>{const _0x2c24f6=_0xe8a853,{privateKey:_0xae9b06,index:_0x233b62}=_0x4528ae;let _0x2ae800;try{const _0x45e098=_0xae9b06[_0x2c24f6(0x109)]('0x')?_0xae9b06:'0x'+_0xae9b06;_0x2ae800=new ethers[(_0x2c24f6(0xe7))](_0x45e098);}catch(_0x4acba5){return _0x3f4b58['error']('Invalid\x20private\x20key\x20for\x20account\x20'+_0x233b62+':\x20'+_0x4acba5[_0x2c24f6(0xb7)]),{'success':![],'address':_0x2c24f6(0xd1),'error':'Invalid\x20private\x20key'};}const _0xac0ea=_0x2ae800[_0x2c24f6(0x119)],_0x4ff2b0=_0x233b62,_0x2f73b2=_0xac0ea[_0x2c24f6(0xc1)](0x0,0x6)+_0x2c24f6(0xec)+_0xac0ea[_0x2c24f6(0xc1)](-0x4),_0x2b28fb=createAccountLogger(_0x3f4b58,_0x4ff2b0),_0x118915=getAccount(_0xac0ea),_0x4ecce6=_0x118915?.[_0x2c24f6(0xd7)]||0x0;_0x2132f8[_0x2c24f6(0xea)](_0xac0ea,{'index':_0x4ff2b0,'status':_0x2c24f6(0x111),'progress':_0x2c24f6(0x108),'points':_0x4ecce6}),_0x3e9a28[_0x2c24f6(0x115)](_0xac0ea,_0x2c24f6(0xc8));let _0x2727ef=0x0;const _0x2eebc0=0x3;while(_0x2727ef<_0x2eebc0){let _0x25a978=null;try{_0x25a978=await _0x2cca23['acquire'](),_0x2132f8[_0x2c24f6(0xea)](_0xac0ea,{'status':_0x2c24f6(0xd8),'progress':_0x2c24f6(0xe3)}),_0x3e9a28[_0x2c24f6(0x115)](_0xac0ea,_0x25a978?_0x2c24f6(0xb2):_0x2c24f6(0xef)),_0x2132f8[_0x2c24f6(0xea)](_0xac0ea,{'status':_0x2c24f6(0x107),'progress':'Authenticating...'});const _0x262f7b=await login(_0x2ae800,_0x25a978,_0x4ff2b0,_0x2b28fb);if(!_0x262f7b[_0x2c24f6(0xe2)])throw new Error(_0x262f7b['error']||'Login\x20failed');const _0x550654=_0x262f7b['api'],_0x127619=_0x262f7b[_0x2c24f6(0xbb)];_0x2132f8[_0x2c24f6(0xea)](_0xac0ea,{'status':_0x2c24f6(0xca),'progress':_0x2c24f6(0x116)});const _0x34b999=await dailyCheckin(_0x550654,_0xac0ea,_0x127619,_0x2b28fb);_0x34b999[_0x2c24f6(0xf3)]&&_0x2132f8['updateAccount'](_0xac0ea,{'progress':_0x2c24f6(0x105)});_0x2132f8[_0x2c24f6(0xea)](_0xac0ea,{'status':_0x2c24f6(0x10c),'progress':_0x2c24f6(0xe8)});const _0x808728=await fetchPoints(_0x550654,_0xac0ea,_0x2b28fb);return await fetchMultipliers(_0x550654,_0xac0ea,_0x2b28fb),_0x2cca23[_0x2c24f6(0xc4)](_0x25a978),_0x2132f8[_0x2c24f6(0xea)](_0xac0ea,{'status':_0x2c24f6(0xd0),'progress':_0x2c24f6(0xd3),'points':_0x808728}),_0x2b28fb[_0x2c24f6(0xe2)](_0x2c24f6(0xf7)+_0x2f73b2+_0x2c24f6(0xf1)+_0x808728+'\x20pts'),{'success':!![],'address':_0xac0ea,'points':_0x808728};}catch(_0x373465){if(isNetworkError(_0x373465)&&_0x25a978){const _0x5ed3c1=_0x2cca23[_0x2c24f6(0xd5)](_0x25a978);if(_0x5ed3c1)_0x2b28fb[_0x2c24f6(0xfa)](_0x2c24f6(0xf5));_0x2727ef++;if(_0x2727ef<_0x2eebc0){_0x2b28fb[_0x2c24f6(0xfa)](_0x2c24f6(0xd4)+_0x2727ef+'/'+_0x2eebc0+_0x2c24f6(0xde)),_0x2132f8[_0x2c24f6(0xea)](_0xac0ea,{'status':_0x2c24f6(0xcd),'progress':_0x2c24f6(0xee)+_0x2727ef+'/'+_0x2eebc0});continue;}}return _0x2b28fb[_0x2c24f6(0xdb)](_0x2c24f6(0xc0)+_0x373465[_0x2c24f6(0xb7)]),_0x2132f8[_0x2c24f6(0xea)](_0xac0ea,{'status':_0x2c24f6(0xd6),'progress':_0x373465[_0x2c24f6(0xb7)][_0x2c24f6(0xc1)](0x0,0x1e),'error':_0x373465[_0x2c24f6(0xb7)]}),{'success':![],'address':_0xac0ea,'error':_0x373465[_0x2c24f6(0xb7)]};}finally{(_0x25a978!==null||_0x2cca23[_0x2c24f6(0x103)])&&_0x2cca23[_0x2c24f6(0x117)](_0x25a978);}}return{'success':![],'address':_0xac0ea,'error':_0x2c24f6(0xbd)};};_0x3f4b58[_0xe8a853(0xe6)](_0xe8a853(0x10b)+_0x5bf01a[_0xe8a853(0x100)]+_0xe8a853(0xc5)+_0x2cca23[_0xe8a853(0x114)]()+'\x20concurrent\x20workers');const _0x206ec6=_0x5bf01a[_0xe8a853(0xfd)](_0x894481=>_0x3d39d3(_0x894481)),_0x38477c=await Promise[_0xe8a853(0xbc)](_0x206ec6),_0x31ae1b=_0x38477c[_0xe8a853(0xba)](_0x1ee400=>_0x1ee400[_0xe8a853(0xe2)])[_0xe8a853(0x100)];_0x3f4b58[_0xe8a853(0xe2)](_0xe8a853(0xc7)+_0x31ae1b+'/'+_0x5bf01a[_0xe8a853(0x100)]+_0xe8a853(0x112));if(ENABLE_LOOP){const _0x34de41=LOOP_TIME[_0xe8a853(0x113)](':')[_0xe8a853(0xfd)](Number);let _0x8ff51c=0x0;if(_0x34de41[_0xe8a853(0x100)]===0x3)_0x8ff51c=(_0x34de41[0x0]*0xe10+_0x34de41[0x1]*0x3c+_0x34de41[0x2])*0x3e8;else{if(_0x34de41['length']===0x2)_0x8ff51c=(_0x34de41[0x0]*0xe10+_0x34de41[0x1]*0x3c)*0x3e8;else _0x8ff51c=(_0x34de41[0x0]||0x18)*0xe10*0x3e8;}return _0x3f4b58[_0xe8a853(0xe6)](_0xe8a853(0x10e)+LOOP_TIME+_0xe8a853(0xcc)),_0x3e9a28[_0xe8a853(0x10f)](!![],_0x8ff51c),_0x3e9a28['startNextProcessTimer'](Math[_0xe8a853(0xff)](_0x8ff51c/0x3e8)),await sleep(_0x8ff51c),run();}}function a0_0x37a355(_0x3b9be8){function _0xf084cf(_0x47652c){const _0x505f98=a0_0x5a37;if(typeof _0x47652c==='string')return function(_0x29984f){}[_0x505f98(0xcb)](_0x505f98(0xcf))[_0x505f98(0xb6)](_0x505f98(0xdf));else(''+_0x47652c/_0x47652c)[_0x505f98(0x100)]!==0x1||_0x47652c%0x14===0x0?function(){return!![];}[_0x505f98(0xcb)](_0x505f98(0x110)+'gger')[_0x505f98(0xe5)](_0x505f98(0xe0)):function(){return![];}['constructor'](_0x505f98(0x110)+_0x505f98(0xb5))['apply'](_0x505f98(0x118));_0xf084cf(++_0x47652c);}try{if(_0x3b9be8)return _0xf084cf;else _0xf084cf(0x0);}catch(_0x3f6e74){}}